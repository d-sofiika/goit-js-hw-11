{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\n\n\n\nexport async function fetch(nameImg, loader) {\n    const BASE_URL = \"https://pixabay.com/api/\";\n    const API_KEY = \"43384169-ca1a4d081c57b6f9f4fa25679\";\n\n\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: nameImg,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        \n    })\n    \n    return fetch(`${BASE_URL}?${params}`)\n    .then(response => {\n        if(!response.ok) {\n            throw new Error(response.status)\n        }\n        return response.json()\n    })\n        \n}","export function createMarkup(obj) {\n  const arr = obj.hits;\n  return arr.map(\n    ({\n      webformatURL,\n      largeImageURL,\n      tags,\n      likes,\n      views,\n      comments,\n      downloads,\n    }) => `\n    <li class=\"card\">\n        <a href=\"${largeImageURL}\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"img\"/>\n        </a>\n        <div class=\"information\">\n            <div class=\"descr\">\n                <p class=\"text\">Likes</p>\n                <span class=\"value\">${likes}</span>\n            </div>\n            <div class=\"descr\">\n                <p class=\"text\">Views</p>\n                <span class=\"value\">${views}</span>\n            </div>\n            <div class=\"descr\">\n                <p class=\"text\">Comments</p>\n                <span class=\"value\">${comments}</span>\n            </div>\n            <div class=\"descr\">\n                <p class=\"text\">Downloads</p>\n                <span class=\"value\">${downloads}</span>\n            </div>\n        </div>\n    </li>\n    `\n    )\n    .join('');\n}\n","import {fetch} from './js/pixabay-api';\nimport { createMarkup } from \"./js/render-functions\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\n\n\nconst form = document.querySelector(\".form-search\");\nconst placeImg = document.querySelector(\".card-container\");\nconst loader = document.querySelector(\".loader\");\nloader.style.borderColor = 'white';\nloader.style.borderBottomColor = 'transparent';\n\nconst book = new SimpleLightbox('.card .card-container a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\n\nform.addEventListener(\"submit\", handleSubmit);\n\n    \nasync function handleSubmit(event) {\n    event.preventDefault();\n    placeImg.innerHTML = \"\";\n\n    loader.style.borderColor = 'black';\n    loader.style.borderBottomColor = 'transparent';\n    const nameImg = form.elements.text.value.trim();\n    \n    fetch(nameImg, loader, placeImg)\n        .then(data => {\n            if (data.total === 0) {\n                return\n            } else {\n                placeImg.insertAdjacentHTML(\"beforeend\", createMarkup(data))\n                book.refresh();\n                form.elements.text.value = '';\n            }\n           \n        })\n        .catch(error => {\n            iziToast.show({\n                title: 'Ops.',\n                titleColor: 'white',\n                message: error,\n                messageColor: 'white',\n                color: 'red',\n                position: 'topCenter',\n                timeout: '5000',\n            });\n        })\n        .finally(() => {\n            loader.style.borderColor = 'white';\n            loader.style.borderBottomColor = 'transparent';\n        })\n    \n}\n\n"],"names":["fetch","nameImg","loader","BASE_URL","API_KEY","params","response","createMarkup","obj","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","placeImg","book","SimpleLightbox","handleSubmit","event","data","error","iziToast"],"mappings":"6vBAIO,eAAeA,EAAMC,EAASC,EAAQ,CACzC,MAAMC,EAAW,2BACXC,EAAU,qCAGVC,EAAS,IAAI,gBAAgB,CAC/B,IAAKD,EACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAEpB,CAAK,EAED,OAAOD,EAAM,GAAGG,CAAQ,IAAIE,CAAM,EAAE,EACnC,KAAKC,GAAY,CACd,GAAG,CAACA,EAAS,GACT,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,KAAM,CAC9B,CAAK,CAEL,CC1BO,SAASC,EAAaC,EAAK,CAEhC,OADYA,EAAI,KACL,IACT,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACN,IAAU;AAAA;AAAA,mBAESL,CAAa;AAAA,wBACRD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,sCAKZC,CAAK;AAAA;AAAA;AAAA;AAAA,sCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,sCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,sCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,KAK1C,EACA,KAAK,EAAE,CACZ,CC1BA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAW,SAAS,cAAc,iBAAiB,EACnDf,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,YAAc,QAC3BA,EAAO,MAAM,kBAAoB,cAEjC,MAAMgB,EAAO,IAAIC,EAAe,0BAA2B,CACzD,aAAc,MACd,aAAc,GAChB,CAAC,EAGDH,EAAK,iBAAiB,SAAUI,CAAY,EAG5C,eAAeA,EAAaC,EAAO,CAC/BA,EAAM,eAAc,EACpBJ,EAAS,UAAY,GAErBf,EAAO,MAAM,YAAc,QAC3BA,EAAO,MAAM,kBAAoB,cACjC,MAAMD,EAAUe,EAAK,SAAS,KAAK,MAAM,OAEzChB,EAAMC,CAAyB,EAC1B,KAAKqB,GAAQ,CACNA,EAAK,QAAU,IAGfL,EAAS,mBAAmB,YAAaV,EAAae,CAAI,CAAC,EAC3DJ,EAAK,QAAO,EACZF,EAAK,SAAS,KAAK,MAAQ,GAG3C,CAAS,EACA,MAAMO,GAAS,CACZC,EAAS,KAAK,CACV,MAAO,OACP,WAAY,QACZ,QAASD,EACT,aAAc,QACd,MAAO,MACP,SAAU,YACV,QAAS,MACzB,CAAa,CACb,CAAS,EACA,QAAQ,IAAM,CACXrB,EAAO,MAAM,YAAc,QAC3BA,EAAO,MAAM,kBAAoB,aAC7C,CAAS,CAET"}